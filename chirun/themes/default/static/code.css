.runnable-code-wrapper {
	display: grid;
	grid-template:
		"code code code" "run output ." / auto 1fr;
	grid-gap: 0 var(--spacing);
	margin: var(--spacing) 0;
}
.runnable-code-wrapper[data-format="slides"] {
	grid-template:
		"code output" 10rem "run ." / 3fr 2fr;
	grid-gap: 0;
	width: 90vw;
	font-size: 0.7rem;
}

@media (max-width: 40rem) {
    .runnable-code-wrapper {
	   grid-template:
		   "code"
		   "run"
		   "output"
	   ;
	}
}

.runnable-code-wrapper button.run-code {
	align-self: start;
	grid-area: run;
	padding: calc(0.5 * var(--spacing));
	font-size: inherit;
	justify-self: start;
}

.runnable-code-wrapper .code {
	grid-area: code;
	border: 1px solid var(--text-colour);
	padding: calc(0.5 * var(--spacing));
	color: black;
	background: white;
	overflow: auto;
}

.runnable-code-wrapper .output {
	grid-area: output;
	padding: calc(0.5 * var(--spacing));
	border: 1px solid var(--text-colour);
	border-top: none;
	margin: 0;
	max-height: 20em;
	overflow: auto;
}

.runnable-code-wrapper[data-format="slides"] .output {
    border-top: 1px solid var(--text-colour);
}

.runnable-code-wrapper .output pre {
	margin-top: 0;
}

.runnable-code-wrapper .output .images :is(canvas,img) {
    max-width: 100%;
}

.runnable-code-wrapper:not([data-state="ran"]) .output {
	background: var(--bg-colour-accent-4);
	color: var(--text-colour-accent-4);
	font-style: italic;
}

.runnable-code-wrapper[data-state="fresh"] .output {
	display: none;
}


@media print {
	.runnable-code-wrapper button.run-code {
		display: none;
	}
}
